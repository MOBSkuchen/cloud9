<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><title>Cloud9 Manager</title></head><body><style>.title:hover,h1,h2,h2:hover{transition:1s}a:visited,body,button{color:#fff}.tabcontent,h1,h2,h3,h4{font-family:'Trebuchet MS','Lucida Sans Unicode','Lucida Grande','Lucida Sans',Arial,sans-serif}body{background-color:rgba(0,0,0,.954)}h2{font-size:45px}h1{font-size:75px}h2:hover{cursor:pointer;text-decoration:blueviolet underline}h2::selection{color:#fff;text-decoration:blueviolet underline}.title::selection{color:#fff;text-decoration:burlywood underline}.title{margin:0;text-decoration:wheat underline}.box a,.x,a{text-decoration:none}.title:hover{cursor:cell;text-decoration:burlywood underline}nav{margin-top:30px}ul{justify-content:space-around;display:flex;list-style-type:none}.head *,li{display:inline}li{font-size:20px}.tabcontent input,button,h3{font-size:30px}::selection{color:gold}h3{margin-bottom:5px}#instance-container{margin-left:10px}button{transition:.5s;background-color:transparent;border:1px solid #fff;border-radius:5px;margin-right:20px}button:hover{color:gold;transition:.5s}.head *{margin-right:15px}h4{font-size:20px;margin:0 0 10px}.item{margin:20px;padding:10px;background-color:#100f0f;border-radius:5px;border:2px solid #000}.box{background-color:#000;display:flex;align-items:center;justify-content:center}.box a{padding:15px;background-color:#fff;border-radius:3px}.modal{position:fixed;inset:0;background:rgba(0,0,0,.621);display:none;align-items:center;justify-content:center}.modal:target,.tab,.tab button{display:flex}.content{position:relative;background:#000;padding:1em 2em;border-radius:4px}.tab,.tabcontent{border:1px solid #ccc}.x{position:absolute;top:0;right:0;color:wheat;font-size:50px}.tab{overflow:hidden;background-color:#161414;justify-content:center}.tab button,.tabcontent{justify-content:center;color:wheat}.tab button{background-color:inherit;border:0;outline:0;cursor:pointer;padding:14px 16px;transition:.3s}.tab button:hover{background-color:#052a1f;color:gold}.tab button.active{background-color:#03150f;color:gold}.tabcontent{max-width:900px;text-align:center;display:none;padding:6px 12px;border-top:0}.tabcontent input{margin:15px;display:inline}.tabcontent input:focus{border-radius:8px;border:1px solid #000}.tabcontent input::selection{color:#4ab42a}.tabcontent h3{margin-top:10px;display:block}.tabcontent .input-like{display:inline;justify-content:center;font-size:30px;min-height:40px;min-width:80%;margin-left:10%;margin-right:10%}#auth-btn{margin-top:20px}</style><nav><ul><li><h1 class=title>Cloud9 Manager</h1></li><li><a href=#new-instance-box><h2 title="Create (and run) new instance">New Instance</h2></a></li><li><h2 title="Update instance list" onclick=update()>Update</h2></li><li><h2 title="Stop all instances" onclick=wipe()>Wipe All</h2></li></ul></nav><div id=new-instance-box class=modal><div class=content><a href=# class=x>&times;</a><div class=tab><button class="tablinks active" onclick="selectMethodTab(event,'sftp')">SFTP</button><button class=tablinks onclick="selectMethodTab(event,'clone')">Clone</button></div><div id=sftp class="tabcontent active" style=display:block><h3>Create an SFTP instance</h3><input placeholder="Drive name (RMD)" type=text id=a-inp-drivename><input placeholder="Mount path (R:\)" type=text id=a-inp-mountpath><input placeholder="Remote path" type=text id=a-inp-remotepath><input placeholder="Remote host" type=text id=a-inp-host><input placeholder=Username type=text id=a-inp-username><input placeholder=Password type=text id=a-inp-password><input placeholder="Auth key file path" type=text id=a-inp-authkey><button class=input-like id=a-inp-create style=font-size:45px;margin-top:30px>Create</button></div><div id=clone class=tabcontent><h3>Create a cloned drive</h3><input placeholder="Drive name (RMD)" type=text id=b-inp-drivename><input placeholder="Mount path (R:\)" type=text id=b-inp-mountpath><input placeholder="Cloned path" type=text id=b-inp-clonedpath><button class=input-like id=b-inp-create style=font-size:45px;margin-top:30px>Create</button></div></div></div><div id=instance-container></div><script>const container=document.getElementById("instance-container"),url="http://localhost:4994/";function update(){wipeHere();fetch(url+"instances",new Headers).then(e=>{if(!e.ok)throw Error(`Server responded with status ${e.status}[INSTANCES]`);return e.text()}).then(e=>{if(""==e)return;console.log(e);let t=e.split("\n").filter(e=>""!==e.trim());!function e(t){t.forEach(e=>{!function e(t){fetch(url+"instance/"+t).then(e=>{if(!e.ok)throw Error(`Server responded with status ${e.status}[INSTANCES/${t}]`);return e.json()}).then(e=>{let n=function e(t,n){let{username:a,host:r,port:s,remotePath:o,driveName:i,mountPath:l,running:c,saved:d,autostart:u}=n,p=document.createElement("div");p.classList.add("item"),p.id=t;let h=document.createElement("div");h.classList.add("head");let m=document.createElement("h3");m.textContent=`${a}@${r}:${s}>${o}`;let v=document.createElement("span");v.style.fontSize="30px","true"==c.toLowerCase()?v.innerHTML="&#128994;":v.innerHTML="&#128308;","true"==u.toLowerCase()&&(v.innerHTML=v.innerHTML+" AUTO");let S=document.createElement("button");"true"==c.toLowerCase()?(S.addEventListener("click",stopInstance),S.textContent="Stop"):(S.addEventListener("click",startInstance),S.textContent="Start"),S.classList.add("a-button");let E=document.createElement("button"),w=null;"true"==d.toLowerCase()?(E.textContent="Delete",E.addEventListener("click",deleteInstance)):(E.textContent="Save",E.addEventListener("click",saveInstance),(w=document.createElement("button")).textContent="Autostart",w.addEventListener("click",saveInstanceAuto),w.classList.add("b-button")),E.classList.add("b-button"),h.appendChild(m),h.appendChild(v),h.appendChild(S),h.appendChild(E),null!=w&&h.appendChild(w);let I=document.createElement("h4");I.textContent=`Id:${t}`;let C=document.createElement("h4");C.textContent="KeyAuth";let f=document.createElement("h4");return f.textContent=`${i}>${l}`,p.appendChild(h),p.appendChild(I),p.appendChild(C),p.appendChild(f),p}(t,e);container.appendChild(n)}).catch(()=>{reportServiceDown()})}(e)})}(t)}).catch(()=>{reportServiceDown()})}function wipeHere(){container.innerHTML=""}function wipe(){fetch(url+"wipe",{method:"POST"}).then(e=>{if(!e.ok)throw Error(`Server responded with status ${e.status}[INSTANCES/${item}]`);wipeHere()}).catch(()=>{reportServiceDown()})}function stopInstance(e){fetch(url+"instance/"+e.target.parentNode.parentNode.id+"/stop",{method:"POST"}).then(e=>{if(!e.ok)throw Error(`Server responded with status ${e.status}[INSTANCES/${item}]`);update()}).catch(()=>{reportServiceDown()})}function startInstance(e){fetch(url+"instance/"+e.target.parentNode.parentNode.id+"/start",{method:"POST"}).then(e=>{if(!e.ok)throw Error(`Server responded with status ${e.status}[INSTANCES/${item}]`);update()}).catch(()=>{reportServiceDown()})}function saveInstance(e){fetch(url+"instance/"+e.target.parentNode.parentNode.id+"/save",{method:"POST"}).then(e=>{if(!e.ok)throw Error(`Server responded with status ${e.status}[INSTANCES/${item}]`);update()}).catch(()=>{reportServiceDown()})}function saveInstanceAuto(e){fetch(url+"instance/"+e.target.parentNode.parentNode.id+"/save",{method:"POST",body:JSON.stringify({autostart:"true"})}).then(e=>{if(!e.ok)throw Error(`Server responded with status ${e.status}[INSTANCES/${item}]`);update()}).catch(()=>{reportServiceDown()})}function deleteInstance(e){fetch(url+"instance/"+e.target.parentNode.parentNode.id+"/delete",{method:"POST"}).then(e=>{if(!e.ok)throw Error(`Server responded with status ${e.status}[INSTANCES/${item}]`);update()}).catch(()=>{reportServiceDown()})}function reportServiceDown(){alert("It seems like the cloud9 service hosted on your computer is down right now. Try updating or running it manually")}function selectMethodTab(e,t){var n,a,r;for(n=0,a=document.getElementsByClassName("tabcontent");n<a.length;n++)a[n].style.display="none";for(n=0,r=document.getElementsByClassName("tablinks");n<r.length;n++)r[n].className=r[n].className.replace(" active","");document.getElementById(t).style.display="block",e.currentTarget.className+=" active"}async function createInstanceCall(e,t,n,a,r,s,o,i){let l=await fetch(url+"create-instance",{method:"POST",body:JSON.stringify({method:e,driveName:t,mountPath:n,remotePath:a,remoteHost:r,username:s,password:""!==i?i:o,isKeyAuth:""!==i?"true":"false",port:"22"})});return 400==l.status||500==l.status?alert(`Error creating instance:${await l.text()}`):l.ok||reportServiceDown(),l.ok}function createSFTPInstance(){let e=document.getElementById("a-inp-drivename").value,t=document.getElementById("a-inp-mountpath").value,n=document.getElementById("a-inp-remotepath").value,a=document.getElementById("a-inp-host").value,r=document.getElementById("a-inp-username").value,s=document.getElementById("a-inp-password").value,o=document.getElementById("a-inp-authkey").value;if(""===e||""===t||""===n||""===a||""===s&&""===o||""===r){alert("Please set all values!");return}createInstanceCall("SFTP",e,t,n,a,r,s,o).then(e=>{e&&(update(),window.location="#")})}function createCloneInstance(){let e=document.getElementById("b-inp-drivename").value,t=document.getElementById("b-inp-mountpath").value,n=document.getElementById("b-inp-clonedpath").value;if(""===e||""===t||""===n){alert("Please set all values!");return}createInstanceCall("Clone",e,t,n,"","","","").then(e=>{e&&(update(),window.location="#")})}document.addEventListener("DOMContentLoaded",update),document.getElementById("a-inp-create").addEventListener("click",createSFTPInstance),document.getElementById("b-inp-create").addEventListener("click",createCloneInstance);</script></body></html>